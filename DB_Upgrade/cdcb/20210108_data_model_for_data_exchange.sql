
drop table DATA_EXCHANGE_REQUEST_TABLE;
 CREATE TABLE DATA_EXCHANGE_REQUEST_TABLE
 (
 REQUEST_KEY BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
 USER_KEY INT,
 REQUEST_NAME varchar(300) not null,
 INPUT_PATH varchar(3000),
 REQUEST_DETAIL varchar(3000) not null,
 STATUS varchar(10) not null,
 IP_ADDRESS varchar(50),
 CREATED_TIME TIMESTAMP not null,
 START_TIME TIMESTAMP,
 END_TIME TIMESTAMP,
 CANCEL_BY varchar(30) 
 );
 
 
 DROP TABLE DATA_EXCHANGE_OPERATION_TABLE;
 
  CREATE TABLE DATA_EXCHANGE_OPERATION_TABLE
 (
 OPERATION_KEY BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1)  PRIMARY KEY,
 REQUEST_KEY BIGINT,
 OPERATION_NAME varchar(300),
 OUTPUT_PATH varchar(3000),
 STATUS varchar(10), 
 CREATED_TIME TIMESTAMP,
 START_TIME TIMESTAMP,
 END_TIME TIMESTAMP,
 CANCEL_BY varchar(30) 
 );
 
 
 DROP TABLE QUERY_TABLE;
CREATE TABLE QUERY_TABLE
 (
 QUERY_KEY BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1)  PRIMARY KEY,
 QUERY_NAME  varchar(300) NOT NULL UNIQUE,
 CALL_COMMAND  varchar(300)   
 );
 
 
 
CREATE TABLE DATA_EXCHANGE_INPUT_TABLE
 (
 ROW_KEY BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1)  PRIMARY KEY,
 REQUEST_KEY BIGINT,
 LINE VARCHAR(200)
 );
 
 
 drop table TMP_DATA_EXCHANGE_INPUT_TABLE;
 CREATE TABLE TMP_DATA_EXCHANGE_INPUT_TABLE
 (
  ROW_KEY BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1)  PRIMARY KEY,
 LINE VARCHAR(200)
 );
 
 
  drop table DATA_EXCHANGE_INPUT_TABLE;
 CREATE TABLE DATA_EXCHANGE_INPUT_TABLE
 (
  ROW_KEY BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1)  PRIMARY KEY,
  REQUEST_KEY BIGINT,
 LINE VARCHAR(200)
 );
 
 
 
 TRUNCATE TABLE QUERY_TABLE IMMEDIATE ;
 INSERT INTO QUERY_TABLE
 ( 
  QUERY_NAME,
  CALL_COMMAND 
 )
 VALUES(
 'Get Animal Formatted Pedigree Information',
 'CALL usp_DataExchange_Get_Animal_Formatted_Pedigree_Info('''',0,'''','''',''1'',@REQUEST_KEY,@OPERATION_KEY)'
 );
  
 